digraph G {
  Logger;
  Command;
  DiceConfig;

  Cli;
  Cli -> BuildTask;

  Cli -> ConnectionTask;

  ConnectionHostBuildSystem -> Connection [label="inherits from"];
  ConnectionVagrantBuildSystem -> Connection [label="inherits from"];
  Connection -> Recipe [label="inherits from"];

  HostBuildSystem -> BuildSystem [label="inherits from"];
  VagrantBuildSystem -> BuildSystem [label="inherits from"];
  BuildSystem -> Recipe [label="inherits from"];

  ConnectionFactory -> ConnectionVagrantBuildSystem;
  ConnectionFactory -> ConnectionHostBuildSystem;

  ConnectionTask -> ConnectionFactory;

  BuildSystemFactory -> Job;
  BuildSystemFactory -> Solver;

  BuildSystemFactory -> HostBuildSystem
  BuildSystemFactory -> VagrantBuildSystem

  BuildTask -> BuildSystemFactory;
}
